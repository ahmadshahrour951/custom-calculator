<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Geometric Shapes Volume Calculator</title>
  </head>
  <body>
    <form>
      <h1>Volume Calculator</h1>

      <label for="input-shapes" class="labels">Choose a shape:</label>
      <select name="input-shapes" id="input-shapes" class="values">
        <option value="cone">Cone</option>
        <option value="sphere">Sphere</option>
        <option value="cylinder">Cylinder</option>
      </select>

      <label for="input-radius" class="labels">Radius</label>
      <input
        name="input-radius"
        id="input-radius"
        type="number"
        class="values"
      />

      <label for="input-height" class="labels">Height</label>
      <input
        name="input-height"
        id="input-height"
        type="number"
        class="values"
      />

      <button type="submit" id="form-button" target>Submit</button>
      <h1>Volume: <span id="output-volume">0</span></h1>
    </form>

    <script>
      // Grab all the interested html elements so that we may use logic and manipulation for display
      const shapeInput = document.querySelector('#input-shapes');
      const radiusInput = document.querySelector('#input-radius');
      const heightInput = document.querySelector('#input-height');
      const submitButton = document.querySelector('#form-button');
      const volumeOutput = document.querySelector('#output-volume');

      // This is where I store the values of the current html elements
      let shape = shapeInput.value || '';
      let radius = parseFloat(radiusInput.value) || 0;
      let height = parseFloat(heightInput.value) || 0;

      // Here I define the handler functions that I will use in the events listeners
      function handleShape(e) {
        shape = e.target.value;
      }

      function handleRadius(e) {
        radius = parseFloat(e.target.value);
      }

      function handleHeight(e) {
        height = parseFloat(e.target.value);
      }

      // This is where the main logic and calculation occurs, currently I check for three different calculations for three shapes
      function handleSubmit(e) {
        e.preventDefault();
        let temp_volume = 0;

        if (shape === 'cone') {
          temp_volume = Math.PI * radius ** 2 * height;
        } else if (shape === 'sphere') {
          temp_volume = (4 / 3) * Math.PI * radius ** 3;
        } else if (shape === 'cylinder') {
          temp_volume = (1 / 3) * Math.PI * radius ** 2 * height;
        }

        volumeOutput.innerHTML = temp_volume.toFixed(2);
      }

      // This is where I define the eventlisteners passing its handlers
      shapeInput.addEventListener('change', handleShape);
      radiusInput.addEventListener('change', handleRadius);
      heightInput.addEventListener('change', handleHeight);
      submitButton.addEventListener('click', handleSubmit);
    </script>
  </body>
</html>
